//#-p stonebrick 0 -print
///	1119 40 -1633

//<Defines
DEFINE $s$ minecraft:
DEFINE $ObjA$ scoreboard objectives add
DEFINE $ObjR$ scoreboard objectives remove
DEFINE $TeamA$ scoreboard teams add
DEFINE $TeamO$ scoreboard teams option
DEFINE $TeamR$ scoreboard teams remove
DEFINE $Style$ 16 16 0
DEFINE $SA$ x=1095,y=4,z=-1655,dx=68,dy=50,dz=70
DEFINE $TextStart$ {"text":"","extra":[{"text":"[","color":"gray"},{"text":"BA","color":"gold","bold":"true","hoverEvent":{"action":"show_text","value":{"text":"Breakaway","color":"gold"}}},{"text":"]","color":"gray"},{"text":": "},

DEFINE Deactivate fill |0| stonebrick 0
DEFINE Activate fill |0| redstone_block 0
DEFINE ColorFillWool fill |0| wool |1|
DEFINE ColorFillClay fill |0| stained_hardened_clay |1|
DEFINE ColorFillGlass fill |0| stained_glass |1|
DEFINE ColorFillWood fill |0| wood |1|
DEFINE ScTG scoreboard players tag
DEFINE ScOP scoreboard players operation
DEFINE ScTE scoreboard players test
DEFINE ScRE scoreboard players reset
DEFINE ScTJ scoreboard teams join
DEFINE ScTO scoreboard teams option
DEFINE RevST scoreboard players tag @a[|0|] remove |0|
DEFINE SetblockTestfor setblock ~ ~ ~ repeating_command_block 13 replace {TrackOutput:0b,auto:1b}
DEFINE NumberAdd |0| Number = |0|
DEFINE NumberObjAdd Number dummy


///	Teleport to middle of the arena
DEFINE $TA1$ 1107.0 24 -1617
DEFINE $TA2$ 1152.0 24 -1616
DEFINE $TA3$ 1129 24 -1596

///	Teleport to spawn
DEFINE $TS$ 1129 32 -1630 0 0



///	Selecting arena types
DEFINE $SA1$ x=1096,y=5,z=-1642,dx=22,dy=30,dz=56
DEFINE $SA2$ x=1141,y=5,z=-1634,dx=21,dy=30,dz=35
DEFINE $SA3$ x=1119,y=5,z=-1606,dx=20,dy=30,dz=20

///	Selecting snowballs in arena (exclude walls and bottom layer, and only include the breakable layers
DEFINE $SIA1$ x=1098,y=21,z=-1640,dx=17,dy=5,dz=52
DEFINE $SIA2$ x=1143,y=15,z=-1632,dx=17,dy=11,dz=31
DEFINE $SIA3$ x=1121,y=7,z=-1640,dx=16,dy=19,dz=16

///	Select at door entrance
DEFINE $SD1$ x=1124,y=28,z=-1618,dy=2,dz=2
DEFINE $SD2$ x=1134,y=28,z=-1618,dy=2,dz=2
DEFINE $SD3$ x=1128,y=28,z=-1614,dx=2,dy=2

///	Select at floor
DEFINE $SF$ x=1095,y=4,z=-1655,dx=68,dy=3,dz=70

///	Select at lobby / spawn area
DEFINE $SP$ x=1119,y=23,z=-1640,dx=20,dy=16,dz=32

///	Select below first layer
DEFINE $SBA1$ x=1096,y=5,z=-1642,dx=22,dy=18,dz=56
DEFINE $SBA2$ x=1141,y=5,z=-1634,dx=21,dy=18,dz=35
DEFINE $SBA3$ x=1119,y=5,z=-1606,dx=20,dy=18,dz=20

///	Door coords
DEFINE $D1$ 1124 29 -1618 1124 29 -1616
DEFINE $D2$ 1134 29 -1618 1134 29 -1616
DEFINE $D3$ 1128 29 -1614 1130 29 -1614

///	Structure blocks
DEFINE $SBS1$ 1168 6 -1663 1168 5 -1663
DEFINE $SBS2$ 1187 13 -1642 1187 5 -1642
DEFINE $SBS3$ 1206 21 -1627 1206 5 -1627
DEFINE $SBL1$ 1093 24 -1640 1093 23 -1640
DEFINE $SBL2$ 1143 23 -1637 1143 15 -1637
DEFINE $SBL3$ 1121 23 -1583 1121 7 -1583

///	Items: Normal
DEFINE CCItem_PickaxeN diamond_pickaxe 1 0 {Unbreakable:1}
DEFINE CCItem_ShovelN diamond_shovel 1 0 {Unbreakable:1}
DEFINE CCItem_AxeN diamond_axe 1 0 {Unbreakable:1}
DEFINE CCItem_ShearsN shears 1 0 {Unbreakable:1}

///	Items: Enchanted
DEFINE CCItem_PickaxeE diamond_pickaxe 1 0 {Unbreakable:1,ench:[{id:32,lvl:9001}]}
DEFINE CCItem_ShovelE diamond_shovel 1 0 {Unbreakable:1,ench:[{id:32,lvl:9001}]}
DEFINE CCItem_AxeE diamond_axe 1 0 {Unbreakable:1,ench:[{id:32,lvl:9001}]}
DEFINE CCItem_ShearsE shears 1 0 {Unbreakable:1,ench:[{id:32,lvl:9001}]}

///	Items: Clear
DEFINE CCItem_PickaxeC diamond_pickaxe
DEFINE CCItem_ShovelC diamond_shovel
DEFINE CCItem_AxeC diamond_axe
DEFINE CCItem_ShearsC shears

///	Items: Other
DEFINE CCItem_Potion potion 1 0 {Potion:"minecraft:strong_swiftness"}
DEFINE CCItem_SnowballGive snowball |0| 0 {display:{Name:"To do list: Rename this to something better"}}
DEFINE CCItem_SnowballClear snowball 0 |0| {display:{Name:"To do list: Rename this to something better"}}

DEFINE CCItem_MelonGive melon |0| 0
DEFINE CCItem_MelonClear melon 0 |0|

///	Other
/// DEFINE $DeathMessages$ 7
DEFINE $BookCoords$ 1141 40 -1631
DEFINE $SnowballCloud$ @e[type=AreaEffectCloud,BreakawaySnowballCloudIA] summon AreaEffectCloud ~|0| ~|1| ~|2| ;
{Tags:["BreakawaySnowballDestroy","BreakawaySnowballCloud"],Duration:3}
//>



//<Comments
FUNC Func_RandomComments
	BASave
	
	Arena			1 - 3
	Hunger			0 - 3
	Tools			0 - 3
		-Pickaxe
		-Shovel
		-Axe
		-Shears
	SpeedPotion		0 - 3
	
	PVP				0 - 3
	Snowball		0 - 3
END
//>

//<To Do 
FUNC Func_ToDoThings
TDWorks TDTest TDFix
Mandatory Unimplemented Changes:
	-
	
General Unimplemented Changes:
	-
	
Bugs:
	-
	
Implemented Changes:
	-
	
Bug fixes:
	-
	
END
//>


//<Open doors
FUNC Func_OpenDoors
	scoreboard objectives add BWid dummy Breakaway In Doors
	scoreboard objectives add BAaf dummy Breakaway Affected Items
	ScTE Arena BASave 1 1
	CONSTART
		title @a[$SA$] title {"text":"Arena 1 is open","color":"green"}
		fill $D1$ air 0
	CONEND
	
	ScTE Arena BASave 2 2
	CONSTART
		title @a[$SA$] title {"text":"Arena 2 is open","color":"green"}
		fill $D2$ air 0
	CONEND
	
	ScTE Arena BASave 3 3
	CONSTART
		title @a[$SA$] title {"text":"Arena 3 is open","color":"green"}
		fill $D3$ air 0
	CONEND
	
END
//>

//<Open door clock
FUNC Func_OpenDoorClock
	@a[$SD1$] BWid = 1
	@a[$SD2$] BWid = 1
	@a[$SD3$] BWid = 1
	
	$s$gamemode 2 @a[BWid=1,m=0]
	@a[$SA$,BWid=1,m=2] BAaf + 0
	@a[$SA$,BWid=1,m=2,EC=0] stats entity @a[m=2,c=1,r=1,BWid=1,EC=0] set AffectedItems @a[m=2,c=1,r=1,BWid=1,EC=0] BAaf
	effect @a[$SA$,BWid=1,m=2] clear
	effect @a[$SA$,BWid=1,m=2] 18 1000000 10 true
	effect @a[$SA$,BWid=1,m=2] 23 1000000 10 true
	
	@a[$SA$,m=2,BWid=1,EC=0] $s$clear @a[m=2,c=1,r=1,BWid=1,EC=0] written_book -1 0
	$s$clear @a[$SA$,m=2,BWid=1,BAaf=0]
	@a[BWid=1] BWid = 0
END
//>

//<Close all doors
FUNC Func_CloseDoors
	scoreboard objectives remove BWid
	scoreboard objectives remove BAaf
	fill $D1$ glowstone 0
	fill $D2$ glowstone 0
	fill $D3$ glowstone 0

	$s$kill @e[$SA$,type=Item]
	$s$clear @a[$SA$,m=2]
	
	ScTE Hunger BASave 0 1
	CONDITION
		Hunger BASave = 1
	ScTE Hunger BASave 2 3
	CONSTART
		Hunger BASave = 3
		replaceitem entity @a[$SA$,m=2] slot.weapon.offhand 
	CONEND
	ScTE Pickaxe BASave 0 1
	CONDITION
		Pickaxe BASave = 1
	ScTE Pickaxe BASave 2 3
	CONSTART
		Pickaxe BASave = 3
		$s$give @a[$SA$,m=2] CCItem_PickaxeN
	CONEND
	ScTE Pickaxe BASave 4 5
	CONSTART
		Pickaxe BASave = 5
		$s$give @a[$SA$,m=2] CCItem_PickaxeE
	CONEND
	
	ScTE Shovel BASave 0 1
	CONDITION
		Shovel BASave = 1
	ScTE Shovel BASave 2 3
	CONSTART
		Shovel BASave = 3
		$s$give @a[$SA$,m=2] CCItem_ShovelN
	CONEND
	ScTE Shovel BASave 4 5
	CONSTART
		Shovel BASave = 5
		$s$give @a[$SA$,m=2] CCItem_ShovelE
	CONEND
	
	ScTE Axe BASave 0 1
	CONDITION
		Axe BASave = 1
	ScTE Axe BASave 2 3
	CONSTART
		Axe BASave = 3
		$s$give @a[$SA$,m=2] CCItem_AxeN
	CONEND
	ScTE Axe BASave 4 5
	CONSTART
		Axe BASave = 5
		$s$give @a[$SA$,m=2] CCItem_AxeE
	CONEND
	
	ScTE Shears BASave 0 1
	CONDITION
		Shears BASave = 1
	ScTE Shears BASave 2 3
	CONSTART
		Shears BASave = 3
		$s$give @a[$SA$,m=2] CCItem_ShearsN
	CONEND
	ScTE Shears BASave 4 5
	CONSTART
		Shears BASave = 5
		$s$give @a[$SA$,m=2] CCItem_ShearsE
	CONEND
	
	ScTE SpeedPotion BASave 0 1
	CONDITION
		SpeedPotion BASave = 1
	ScTE SpeedPotion BASave 2 3
	CONSTART
		SpeedPotion BASave = 3
		$s$give @a[$SA$,m=2] CCItem_Potion
	CONEND
	setblock $BookCoords$ redstone_block 0
	
END
//>


//<General Scoreboard Start
FUNC Func_GeneralScoreboardStart
	USE $ObjA$
		NumberObjAdd
		BA dummy Breakaway
		BASave dummy Breakaway Settings Save
		BAde deathCount Breakaway Deaths
		BApl dummy Breakaway Player List
		BAaf dummy Breakaway Affected Items
		BAti dummy Breakaway Timer
		BAtp dummy Breakaway Temp
	UNUSE
	NumberAdd(x)
	scoreboard objectives setdisplay sidebar BA
	
	USE $TeamA$
		BA Breakaway Players
	UNUSE
	
	USE $TeamO$
		BA color green
		BA collisionRule never
		BA friendlyfire false
///		BA deathMessageVisibility never
	UNUSE
	
	scoreboard teams join BA @a[$SA1$,m=2] @a[$SA2$,m=2] @a[$SA3$,m=2] @a[$SA1$,m=0] @a[$SA2$,m=0] @a[$SA3$,m=0]
	effect @a[$SA$,m=2,team=BA] clear
	$s$gamemode 2 @a[$SA$,m=0,team=BA]
	
	summon AreaEffectCloud ~ ~ ~ {Tags:["BAEntity","BACountdown"],Duration:110}
	summon ArmorStand ~ ~ ~ {Tags:["BAEntity","BAStand"],;
	DisabledSlots:2096896,Marker:1,NoGravity:1,NoBasePlate:1,ShowArms:1,Small:1,Invulnerable:1,PersistenceRequired:1,Invisible:1}
	
	@a[$SA$,m=2,team=BA] BApl + 0
	@a[$SA$,m=2,team=BA] BAti + 100
	@a[$SA$,m=2,team=BA] BAaf + 0
	@a[$SA$,m=2,team=BA] stats entity @a[m=2,c=1,r=1,team=BA] set AffectedItems @a[m=2,c=1,r=1,team=BA] BAaf
	effect @a[$SA$,m=2,team=BA] 18 5 10 true
	@e[type=ArmorStand,BAStand] BAde + 0
	@e[type=AreaEffectCloud,BAStand] BAde + 0
	
	ScTE PVP BASave 1 1
	CONDITION
		scoreboard teams option BW friendlyfire false
	
	ScTE PVP BASave 3 3
	CONDITION
		scoreboard teams option BW friendlyfire true
	
	
	ScTE Snowball BASave 0 1
	CONSTART
		Snowball BASave = 1
	CONEND
	
	ScTE Snowball BASave 2 3
	CONSTART
		Snowball BASave = 3
		Activate(CBPSnowballClock)
	CONEND
	
///	Countdown
	@a[$SA$] playsound minecraft:block.note.pling voice @a[c=1]
	tellraw @a[$SA$] $TextStart${"text":"5","color":"yellow","bold":"true"}]}
	
	gamerule keepInventory true
	gamerule doTileDrops false
END
//>

//<General Scoreboard Clock
FUNC Func_GeneralScoreboardClock
	$s$gamemode 2 @a[$SP$,m=0]
	$s$kill @e[$SF$,type=Item]
	
	@a[BAde>=1,BApl=0] BAaf = 0
	@a[BAde>=1,BApl=0,EC=0] stats entity @a[m=0,c=1,BAde>=1,BApl=0,EC=0] set AffectedItems @a[m=0,c=1,BAde>=1,BApl=0,EC=0] BAaf
	@a[BAde>=1,BApl=0,EC=0] $s$clear @a[m=0,c=1,BAde>=1,BApl=0,EC=0] written_book -1 0
	$s$clear @a[BAde>=1,BApl=0,BAaf=0]
	
	ScRS @a[BAde>=1,BApl=0] BApl
	scoreboard teams leave @a[BAde>=1,team=BW]

	Players BApl = 0
	@a[$SA$,BApl=0] Players BApl + 1
	Players BA = Players BApl
	
	
	
	LOOP (Pickaxe;Shovel;Axe;Shears)
		ScTE |0| BASave 0 0
		CONSTART
			|0| BASave = 1
			$s$clear @a[$SA$,m=0,BApl=0] CCItem_|0|C
		CONEND
		
		ScTE |0| BASave 2 2
		CONDITION
			$s$clear @a[$SA$,m=0,BApl=0] CCItem_|0|C
		ScTE |0| BASave 2 2
		CONSTART
			|0| BASave = 3
			$s$give @a[$SA$,m=0,BApl=0] CCItem_|0|N
		CONEND
		
		ScTE |0| BASave 4 4
		CONDITION
			$s$clear @a[$SA$,m=0,BApl=0] CCItem_|0|C
		ScTE |0| BASave 4 4
		CONSTART
			|0| BASave = 5
			$s$give @a[$SA$,m=0,BApl=0] CCItem_|0|E
		CONEND
	END
	
	ScTE SpeedPotion BASave 0 0
	CONSTART
		SpeedPotion BASave = 1
		$s$clear @a[$SA$,m=0,BApl=0] potion
	CONEND
	ScTE SpeedPotion BASave 2 2
	CONSTART
		SpeedPotion BASave = 3
		$s$give @a[$SA$,m=0,BApl=0] CCItem_Potion
	CONEND
	
	
	
	
	ScTE PVP BASave 0 0
	CONSTART
		PVP BASave = 1
		scoreboard teams option BW friendlyfire false
	CONEND
	ScTE PVP BASave 2 2
	CONSTART
		PVP BASave = 3
		scoreboard teams option BW friendlyfire true
	CONEND
	
	ScTE Snowball BASave 0 0
	CONSTART
		Snowball BASave = 1
		Deactivate(CBPSnowballClock)
	CONEND
	ScTE Snowball BASave 2 2
	CONSTART
		Snowball BASave = 3
		Activate(CBPSnowballClock)
	CONEND
	
	ScTE Hunger BASave 0 0
	CONSTART
		Hunger BASave = 1
		$s$clear @a[$SA$,m=0,BApl=0] melon
	CONEND
	ScTE Hunger BASave 1 1
	CONDITION
		effect @a[$SA$,m=0,BApl=0] 23 3 100 true
	ScTE Hunger BASave 2 2
	CONSTART
		Hunger BASave = 3
		replaceitem entity @a[$SA$,m=0,BApl=0] slot.weapon.offhand melon 64 0 
	CONEND
		
		
	ScTE Invulnerability BASave 0 0
	CONSTART
		Invulnerability BASave = 1
		effect @a[$SA$,m=0,BApl=0] 11 0 0 true
	CONEND
	ScTE Invulnerability BASave 2 2
	CONDITION
		effect @a[$SA$,m=0,BApl=0] 11 3 10 true
	
	
	///	ScTG @a[$SF$,m=0,BApl=0] add BWKilled {OnGround:1b}
///	$s$kill @a[$SF$,m=0,BApl=0,BWKilled]
///	@e[type=ArmorStand,BAStand,BAde>=0] BAde + 1
///	@e[type=ArmorStand,BAStand,BAde=ADD($DeathMessages$;1)] BAde = 1 
END
//>

//<General Scoreboard End
FUNC Func_GeneralScoreboardEnd
	$s$kill @e[BAEntity]
/// ScTG * remove BWKilled
	effect @a[$SA$,BApl=0] clear
	effect @a[$SA$,BApl=0] 6 1 100 true
	effect @a[$SA$,BApl=0] 11 5 100 true
	
	@a[$SA$,BApl=0] BAaf = 0
	@a[$SA$,BApl=0,EC=0] stats entity @a[c=1,r=1,EC=0,BApl=0] set AffectedItems @a[c=1,r=1,EC=0,BApl=0] BAaf
	@a[$SA$,BApl=0,EC=0] $s$clear @a[c=1,r=1,EC=0,BApl=0] written_book -1 0
	$s$clear @a[$SA$,BApl=0,BAaf=0]
	
	$s$tp @a[$SA$,BApl=0] $TS$
	
	USE $ObjR$
		BA
		BAde
		BApl
		BAaf
		BAti
		BAtp
	UNUSE
	
	USE $TeamR$
		BA
	UNUSE
	
	gamerule keepInventory false
	
///Arena 1
	fill 1115 23 -1640 1098 23 -1588 bedrock 0
///Arena 2
	fill 1143 23 -1632 1160 23 -1601 bedrock 0
	fill 1143 19 -1632 1160 19 -1601 bedrock 0
	fill 1143 15 -1632 1160 15 -1601 bedrock 0
///Arena 3
	fill 1137 23 -1604 1121 23 -1588 bedrock 0
	fill 1137 19 -1604 1121 19 -1588 bedrock 0
	fill 1137 15 -1604 1121 15 -1588 bedrock 0
	fill 1137 11 -1604 1121 11 -1588 bedrock 0
	fill 1137 7 -1604 1121 7 -1588 bedrock 0
/// baby i'm ballin
END
//>



//<Countdown Testfor Clock
FUNC Func_CountdownTFClock
	testfor @e[type=AreaEffectCloud,BWCD]
	SetblockTestfor
	
	testfor @e[type=AreaEffectCloud,BWCD] {Age:20}
	CONSTART
		@a[$SA$] playsound minecraft:block.note.pling voice @a[c=1]
		tellraw @a[$SA$] {"text":"4","color":"yellow","bold":"true"}
	CONEND
	testfor @e[type=AreaEffectCloud,BWCD] {Age:40}
	CONSTART
		@a[$SA$] playsound minecraft:block.note.pling voice @a[c=1]
		tellraw @a[$SA$] {"text":"3","color":"yellow","bold":"true"}
	CONEND
	testfor @e[type=AreaEffectCloud,BWCD] {Age:60}
	CONSTART
		@a[$SA$] playsound minecraft:block.note.pling voice @a[c=1]
		tellraw @a[$SA$] {"text":"2","color":"yellow","bold":"true"}
	CONEND
	testfor @e[type=AreaEffectCloud,BWCD] {Age:80}
	CONSTART
		@a[$SA$] playsound minecraft:block.note.pling voice @a[c=1]
		tellraw @a[$SA$] {"text":"1","color":"yellow","bold":"true"}
	CONEND
	testfor @e[type=AreaEffectCloud,BWCD] {Age:95}
	CONDITION
		Activate(CBPCountdownSave)
	testfor @e[type=AreaEffectCloud,BWCD] {Age:100}
	CONSTART
		Activate(CBPCountdownLoad)
		Deactivate(CBPCountdown)
	CONEND
	
	LOOP 1 3 + 1
		@a[$SBA|0|$,m=2,BApl=0] BAtp = 1
		$s$tp @a[$SBA|0|$,BAtp=1,m=2,BApl=0] $TA|0|$
	END
	@a[BAtp=1,m=2,BApl=0] tellraw @a $TextStart${"selector":"@a[c=1,m=2,BAtp=1,BApl=0]"},{"text":" is a derp","color":"red"}]}
	effect @a[BAtp=1,m=2,BApl=0] 6 1 100 true
	
	@a[BAtp=1] BAtp = 0
END
//>

//<Breakaway Countdown Save
FUNC Func_CountdownSave
	LOOP 1 3 + 1
		ScTE Arena BASave |0| |0|
		CONSTART
			fill $SBS|0|$ redstone_block 0 replace stonebrick 0
			fill $SBS|0|$ stonebrick 0 replace redstone_block 0
		CONEND
	END
END
//>

//<Breakaway Countdown Load
FUNC Func_CountdownLoad
	@a[$SA$] playsound minecraft:block.note.pling voice @a[c=1] ~ ~ ~ 2 2
	tellraw @a[$SA$] {"text":"Begin!","color":"yellow","bold":"true"}
	$s$gamemode 0 @a[$SA$,m=2,BApl=0]
	LOOP 1 3 + 1
		ScTE Arena BASave |0| |0|
		CONSTART
			fill $SBL|0|$ redstone_block 0 replace stonebrick 0
			fill $SBL|0|$ stonebrick 0 replace redstone_block 0
		CONEND
	END
END
//>

//<Custom Death Messages
FUNC Func_DeathMessages
	testfor @a[BWKilled]
	SetblockTestfor
	
	@e[type=ArmorStand,BAStand,BAde=1] @a[BWKilled,BAde>=1] tellraw @a {"text":"","extra":[{"selector":"@a[c=1,BWKilled,BAde>=1]"},{"text":" didn't bounce"}]}
	@e[type=ArmorStand,BAStand,BAde=2] @a[BWKilled,BAde>=1] tellraw @a {"text":"","extra":[{"selector":"@a[c=1,BWKilled,BAde>=1]"},{"text":" spontaneously combusted"}]}
	@e[type=ArmorStand,BAStand,BAde=2] @a[BWKilled,BAde>=1] particle hugeexplosion ~ ~ ~ 0 0 0 0 1 force
	@e[type=ArmorStand,BAStand,BAde=2] @a[BWKilled,BAde>=1] playsound minecraft:entity.generic.explode voice @a ~ ~ ~ 1 0.75
	@e[type=ArmorStand,BAStand,BAde=3] @a[BWKilled,BAde>=1] tellraw @a {"text":"","extra":[{"selector":"@a[c=1,BWKilled,BAde>=1]"},{"text":" faceplanted the ground"}]}
	@e[type=ArmorStand,BAStand,BAde=4] @a[BWKilled,BAde>=1] tellraw @a {"text":"","extra":[{"selector":"@a[c=1,BWKilled,BAde>=1]"},{"text":" did not have feather falling boots"}]}
	@e[type=ArmorStand,BAStand,BAde=5] @a[BWKilled,BAde>=1] tellraw @a {"text":"","extra":[{"selector":"@a[c=1,BWKilled,BAde>=1]"},{"text":" couldn't fly"}]}
	@e[type=ArmorStand,BAStand,BAde=6] @a[BWKilled,BAde>=1] tellraw @a {"text":"","extra":[{"selector":"@a[c=1,BWKilled,BAde>=1]"},{"text":" slipped on a banana"}]}
	@e[type=ArmorStand,BAStand,BAde=7] @a[BWKilled,BAde>=1] tellraw @a {"text":"","extra":[{"selector":"@a[c=1,BWKilled,BAde>=1]"},{"text":"\'s legs bent the wrong way"}]}
	ScTG @a[BWKilled] remove BWKilled
	@a[BAde>=1] BAde = 0
END
//>

//<Snowball Clock
FUNC Func_SnowballClock
	@a[$SA$,BApl=0,m=0] $s$clear @a[BApl=0,m=0,c=1,r=1] CCItem_SnowballClear(0)
	@a[$SA$,BApl=0,m=0,BAaf=0,BAti>=0<=99] BAti + 1
	$s$give @a[$SA$,BApl=0,m=0,BAaf=0,BAti=100] CCItem_SnowballGive(1)
	@a[$SA$,BApl=0,m=0,BAaf=0,BAti=100] BAti = 0

///	ScTG @a[$SA$,BApl=0] add BreakawayHoldingSnowball {SelectedItem:{id:"snowball",tag:{display:{Lore:"Removes blocks"}}}}
	///Only removes blocks if they are in the arena. 
	///If the area of effect cloud is detected to not be in the arena, it will not have a tag and be killed immediately after
	///
	ScTG @e[$SA$,type=Snowball,!BreakawaySnowball] add BreakawaySnowball
	@e[$SA$,type=Snowball,BreakawaySnowball] $s$kill @e[type=AreaEffectCloud,BreakawaySnowballCloud,c=1,r=5]
	ScTG @e[$SIA1$,type=AreaEffectCloud,BreakawaySnowballCloud] add BreakawaySnowballCloudIA
	ScTG @e[$SIA2$,type=AreaEffectCloud,BreakawaySnowballCloud] add BreakawaySnowballCloudIA
	ScTG @e[$SIA3$,type=AreaEffectCloud,BreakawaySnowballCloud] add BreakawaySnowballCloudIA
/// do the filling stuff (one square, 3 rectangles)
///	Square will be 0.4 in each corner while 0.6 on each side
	@e[type=AreaEffectCloud,BreakawaySnowballCloudIA] say ye
	
	$SnowballCloud$(0.4;0.4;0.4)
	$SnowballCloud$(0.4;0.4;-0.4)
	$SnowballCloud$(0.4;-0.4;0.4)
	$SnowballCloud$(0.4;-0.4;-0.4)
	$SnowballCloud$(-0.4;0.4;0.4)
	$SnowballCloud$(-0.4;0.4;-0.4)
	$SnowballCloud$(-0.4;-0.4;0.4)
	$SnowballCloud$(-0.4;-0.4;-0.4)
	
	$SnowballCloud$(0.6;;)
	$SnowballCloud$(-0.6;;)
	$SnowballCloud$(;0.6;)
	$SnowballCloud$(;-0.6;)
	$SnowballCloud$(;;0.6)
	$SnowballCloud$(;;-0.6)
	
///	@e[type=AreaEffectCloud,BreakawaySnowballCloudIA] summon AreaEffectCloud ~ ~ ~ {Tags:["BreakawaySnowballDestroy","BreakawaySnowballCloud"],Duration:3}
///	@e[type=AreaEffectCloud,BreakawaySnowballCloudIA] fill 
///	@e[type=AreaEffectCloud,BreakawaySnowballCloudIA] fill 
///	@e[type=AreaEffectCloud,BreakawaySnowballCloudIA] fill 
	@e[type=AreaEffectCloud,BreakawaySnowballCloudIA] playsound minecraft:entity.item.pickup voice @a[c=1]
	
	$s$kill @e[type=AreaEffectCloud,BreakawaySnowballCloud]
	
	
	@e[$SA$,type=Snowball,BreakawaySnowball] summon AreaEffectCloud ~ ~ ~ {Duration:3,Tags:["BreakawaySnowballCloud"]}
	
	
///	ScTG @a[BreakawayHoldingSnowball] remove BreakawayHoldingSnowball
END
//>


//<Groups
:CBPOpenDoors PULSE $Style$
Deactivate(CBPOpenDoors)
Func_OpenDoors
Activate(CBPOpenDoorClock)

:CBPOpenDoorClock CLOCK $Style$
Func_OpenDoorClock

:CBPCloseDoors PULSE $Style$
Deactivate(CBPCloseDoors)
Func_CloseDoors
Deactivate(CBPOpenDoorClock)



:CBPMainStart PULSE $Style$
Deactivate(CBPMainStart)
Func_MainStart
Activate(CBPCountdown)
Activate(CBPMainClock)
/// Activate(CBPDeathMessages)

:CBPMainClock CLOCK $Style$
Func_MainClock

:CBPMainEnd PULSE $Style$
Deactivate(CBPMainEnd)
Func_MainEnd
Deactivate(CBPCountdown)
Deactivate(CBPMainClock)
/// Deactivate(CBPDeathMessages)



:CBPCountdown CLOCK $Style$
Func_Countdown

:CBPCountdownSave PULSE $Style$
Deactivate(CBPCountdownSave)
Func_CountdownSave

:CBPCountdownLoad PULSE $Style$
Deactivate(CBPCountdownLoad)
Func_CountdownLoad

:CBPSnowballClock CLOCK $Style$
Func_SnowballClock

//=
:CBPDeathMessages CLOCK $Style$
Func_DeathMessages
\\=
//>











